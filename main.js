let workouts = [
    {
      "id": "zOpA1Op0zvc",
      "title": "ARNOLD PRESS",
      "start": "0"
    },
    {
      "id": "bEv6CCg2BC8?",
      "title": "BACK SQUAT",
      "start": "147"
    },
    {
      "id": "J46aPqFl0WE?",
      "title": "BARBELL 45Â° HYPEREXTENSION",
      "start": "178"
    },
    {
      "id": "vcBig73ojpE?",
      "title": "BARBELL BENCH PRESS",
      "start": "134"
    },
    {
      "id": "xGfUcV11x5g",
      "title": "BARBELL CLOSE-GRIP BENCH PRESS",
      "start": "0"
    },
    {
      "id": "k1S_Any3NIA?",
      "title": "BARBELL INCLINE PRESS",
      "start": "475"
    },
    {
      "id": "_RlRDWO2jfg?",
      "title": "BARBELL OVERHEAD PRESS",
      "start": "121"
    },
    {
      "id": "ep30avTSMB0",
      "title": "BARBELL PUSH PRESS",
      "start": "177"
    },
    {
      "id": "htDXu61MPio",
      "title": "BULGARIAN SPLIT SQUAT",
      "start": "0"
    },
    {
      "id": "FbWfA_s0XL8?",
      "title": "CABLE CLOSE-GRIP ROW",
      "start": "273"
    },
    {
      "id": "2RrGnjxSsiA?",
      "title": "CABLE CRUNCH",
      "start": "124"
    },
    {
      "id": "-EIhKMDSjBY",
      "title": "CABLE FLYE 21S",
      "start": "0"
    },
    {
      "id": "NV8oPOpLsQU",
      "title": "CABLE PULL-THROUGH",
      "start": "0"
    },
    {
      "id": "94DXwlcX8Po?",
      "title": "CABLE TRICEPS KICKBACK",
      "start": "327"
    },
    {
      "id": "nwkLwMRHMQo?",
      "title": "CABLE UPRIGHT ROW",
      "start": "230"
    },
    {
      "id": "fCUeeaWBBSs",
      "title": "CALIFORNIA PRESS",
      "start": "0"
    },
    {
      "id": "160n9FBX84s",
      "title": "CHEST-SUPPORTED T-BAR ROW",
      "start": "0"
    },
    {
      "id": "VL5Ab0T07e4?",
      "title": "CONVENTIONAL DEADLIFT",
      "start": "175"
    },
    {
      "id": "OPEDjl88P-4?",
      "title": "DEFICIT DEADLIFT",
      "start": "369"
    },
    {
      "id": "yN6Q1UI_xkE?",
      "title": "DIP",
      "start": "75"
    },
    {
      "id": "djKXLt7kv7Q?",
      "title": "DUMBBELL ROW",
      "start": "116"
    },
    {
      "id": "cP77gUDvAPA?",
      "title": "DUMBBELL STEP-UP",
      "start": "745"
    },
    {
      "id": "Y4Vv2ASsyhs?",
      "title": "DUMBBELL WALKING LUNGE",
      "start": "536"
    },
    {
      "id": "7Pep2_4nhgE?",
      "title": "ECCENTRIC OVERLOADED LEG EXTENSION",
      "start": "578"
    },
    {
      "id": "Dd0t5UOCEUc",
      "title": "EZ BAR CURL 21S",
      "start": "0"
    },
    {
      "id": "popGXI-qs98?",
      "title": "FLOOR SKULL CRUSHER",
      "start": "153"
    },
    {
      "id": "v-mQm_droHg?",
      "title": "FRONT SQUAT",
      "start": "135"
    },
    {
      "id": "f23vXjoG2e8?",
      "title": "GOOD MORNING",
      "start": "119"
    },
    {
      "id": "Kd3tbUnbueU",
      "title": "HAMMER CURL",
      "start": "0"
    },
    {
      "id": "2RrGnjxSsiA?",
      "title": "HANGING LEG RAISE",
      "start": "247"
    },
    {
      "id": "xDmFkJxPzeM?",
      "title": "HIP THRUST",
      "start": "97"
    },
    {
      "id": "7H-KpNTYw_k?",
      "title": "KNEE-BANDED LEG PRESS",
      "start": "270"
    },
    {
      "id": "O94yEoGXtBY?",
      "title": "LAT PULLDOWN",
      "start": "150"
    },
    {
      "id": "ljO4jkwv8wQ?",
      "title": "LEG EXTENSION",
      "start": "202"
    },
    {
      "id": "didU4ZwAkPI?",
      "title": "LEG PRESS",
      "start": "241"
    },
    {
      "id": "e_48W0vlU58&feature=youtu.be",
      "title": "LYING LEG CURL",
      "start": "0"
    },
    {
      "id": "k1S_Any3NIA?",
      "title": "MACHINE CHEST PRESS",
      "start": "240"
    },
    {
      "id": "9B-5irFdB3c&",
      "title": "MACHINE CHEST-SUPPORTED ROW W/ BAND",
      "start": "388"
    },
    {
      "id": "QH2s6F-oVNM",
      "title": "MACHINE HIGH ROW",
      "start": "0"
    },
    {
      "id": "zfUWbpdjczg",
      "title": "MACHINE HIP ABDUCTION",
      "start": "0"
    },
    {
      "id": "0o07iGKUarI",
      "title": "MACHINE LATERAL RAISE",
      "start": "0"
    },
    {
      "id": "flr4ohSl0j8",
      "title": "MACHINE SHOULDER PRESS",
      "start": "0"
    },
    {
      "id": "Zr8hHd2Q2Eo?",
      "title": "NEUTRAL-GRIP PULL-UP",
      "start": "17"
    },
    {
      "id": "p2t9daxLpB8",
      "title": "PAUSE DUMBBELL INCLINE PRESS",
      "start": "0"
    },
    {
      "id": "-EIhKMDSjBY?",
      "title": "PEC DECK",
      "start": "151"
    },
    {
      "id": "axoeDmW0oAY?",
      "title": "PENDLAY ROW",
      "start": "185"
    },
    {
      "id": "1G0y8D5rFDc?",
      "title": "PLANK",
      "start": "111"
    },
    {
      "id": "Hdc7Mw6BIEE?",
      "title": "PULL-UP",
      "start": "155"
    },
    {
      "id": "-MRNjTr6xrE?",
      "title": "PUSH-UP",
      "start": "715"
    },
    {
      "id": "Vi5hwm0_NfQ?",
      "title": "REVERSE HYPER",
      "start": "131"
    },
    {
      "id": "qIW3z-ydg-M",
      "title": "ROPE OVERHEAD TRICEPS EXTENSION",
      "start": "0"
    },
    {
      "id": "2CMmuH4qJh0",
      "title": "SEATED LEG CURL",
      "start": "0"
    },
    {
      "id": "Y4Vv2ASsyhs?",
      "title": "SINGLE-LEG LEG EXTENSION",
      "start": "573"
    },
    {
      "id": "0a_fVS2s4Ho?",
      "title": "SLIDING LEG CURL",
      "start": "247"
    },
    {
      "id": "-qsRtp_PbVM?",
      "title": "STANDING CALF RAISE",
      "start": "162"
    },
    {
      "id": "_oyxCn2iSjU?",
      "title": "STIFF LEG DEADLIFT",
      "start": "47"
    },
    {
      "id": "XsrD5y8EIKU?",
      "title": "SUMO DEADLIFT",
      "start": "160"
    },
    {
      "id": "i1YgFZB6alI?",
      "title": "SUPINATED DUMBBELL CURL",
      "start": "487"
    },
    {
      "id": "O94yEoGXtBY?",
      "title": "SUPINATED LAT PULLDOWN",
      "start": "316"
    },
    {
      "id": "2RrGnjxSsiA?",
      "title": "WEIGHTED CRUNCH",
      "start": "124"
    }
  ];

  let videoMatches;
  /*runs each time a new character is entered*/
  let searchBar = document.getElementById("search-bar");
  searchBar.addEventListener("keyup", function() {
    
    /*takes inpt from input box*/
    var currInput = document.getElementById("search-bar").value.toUpperCase();
    /*scans through each element*/
    videoMatches = []
    videoMatches = workouts.filter(function(workout) {
        // console.log(workout.title.startsWith(currInput))
        if (workout.title.startsWith(currInput)) {
            return workout;
        } else {
            return
        }
    });
    
    let workoutUL = document.getElementById("workout-names")
    clearListItems(workoutUL)

    videoMatches.forEach(function(match) {
        workoutUL.appendChild(createWorkoutListItem(match))
    })


  });


function createWorkoutListItem(workout) {
    let li = document.createElement("li");
    var liText = document.createTextNode(workout.title);
    li.addEventListener("click", function(event) { displayVideo(event)})
    li.appendChild(liText);
    return li
}

function clearListItems(parent) {
    while (parent.hasChildNodes()) {  
        parent.removeChild(parent.firstChild);
    }
}

function createVideoWindow(workout) {
    let iframe = document.createElement("iframe")
    iframe.src = `https://youtube.com/embed/${workout.id}?&autoplay=1&start=${workout.start}&mute=1`;
    iframe.allow = "fullscreen"
    iframe.allowFullScreen = "allowfullscreen"
    // iframe.height = 315
    // iframe.width = "auto"
    // console.log(iframe)
    let title = document.createElement("h3")
    title.innerHTML = workout.title
    
    let videoWindow = document.getElementById("video-div");
    videoWindow.appendChild(iframe)
    videoWindow.appendChild(title)
}

createVideoWindow(workouts[2])


document.addEventListener('click', function (event) {

	// If the clicked element doesn't have the right selector, bail
	if (!event.target.matches('.click-me')) return;

	// Don't follow the link
	event.preventDefault();

	// Log the clicked element in the console
	console.log(event.target);

}, false);

function displayVideo(event) {
    let videoName = event.target.textContent
    let video = videoMatches.filter(function(match) {
        if(match.title == videoName) {
            return match
        } else {
            return
        }
    })[0]

    clearListItems(document.getElementById("video-div"))
    createVideoWindow(video)
}
    


